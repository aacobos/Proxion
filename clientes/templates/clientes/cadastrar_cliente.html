{% extends 'base.html' %}
{% load static %}

{% block extrahead %}
    <link rel="stylesheet" href="{% static 'css/usuario.css' %}">
{% endblock %}

{% block title %}
    Cadastrar Cliente
{% endblock %}

{% block header %}
    <h1>Cadastrar Cliente</h1>
{% endblock %}

{% block content %}
<div class="form-container">
    <h2>Cadastrar Novo Cliente</h2>
    <form method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="form-group">
            <label for="id_nome_fantasia">Nome Fantasia:</label>
            {{ form.nome_fantasia }}
        </div>
        <div class="form-group">
            <label for="id_razao_social">Razão Social:</label>
            {{ form.razao_social }}
        </div>
        <div class="form-group">
            <label for="id_cnpj">CNPJ:</label>
            {{ form.cnpj }}
        </div>
        <div class="form-group">
            <label for="id_telefone">Telefone:</label>
            {{ form.telefone }}
        </div>
        <div class="form-group">
            <label for="id_email">Email:</label>
            {{ form.email }}
        </div>
        <div class="form-group">
            <label for="id_endereco">Endereço:</label>
            {{ form.endereco }}
        </div>
        <div class="form-group">
            <label for="id_sigla">Sigla do Cliente:</label>
            {{ form.sigla }}
        </div>
        <div class="form-group">
            <label for="id_unidade">Unidade:</label>
            {{ form.unidade }}
        </div>
        <div class="form-group">
            <label for="id_sub_local">Sub-local:</label>
            {{ form.sub_local }}
        </div>        
        <div class="form-group">
            <label for="id_logo">Logo:</label>
            {{ form.logo }}
            <br>
            <img id="previewLogo" class="preview-img" src="#" alt="Pré-visualização da Logo" style="display: none;" />
        </div>
        <div class="form-group">
            <label for="id_responsavel">Responsável:</label>
            {{ form.responsavel }}
        </div>
        <div class="form-group">
            <label for="id_numero_contrato">Número do Contrato:</label>
            {{ form.numero_contrato }}
        </div>
        <div class="form-group">
            <label for="id_data_inicio_contrato">Início do Contrato:</label>
            {{ form.data_inicio_contrato }}
        </div>
        <div class="form-group">
            <label for="id_data_vencimento_contrato">Vencimento do Contrato:</label>
            {{ form.data_vencimento_contrato }}
        </div>
        <button type="submit" class="btn">Salvar</button>
        <a href="{% url 'clientes:listar_clientes' %}" style="display:block; text-align:center; margin-top:10px;">Voltar</a>
    </form>
</div>

<script>
document.getElementById("id_logo").addEventListener("change", function(event) {
    const [file] = event.target.files;
    if (file) {
        const img = document.getElementById("previewLogo");
        img.src = URL.createObjectURL(file);
        img.style.display = "block";
    }
});
</script>
{% endblock %}
